"use strict";(self.webpackChunkbarangay_crime_compliant_web=self.webpackChunkbarangay_crime_compliant_web||[]).push([[708],{5708:(Ct,q,c)=>{c.r(q),c.d(q,{AdminModule:()=>_t});var C=c(3599),F=c(8332),b=c.n(F),f=c(235),w=c(5226),m=c.n(w),e=c(8256),x=c(9868),g=c(7185),h=c(8423);let O=(()=>{class i{constructor(t,r,n){this.barangayDashboardService=t,this.toastr=r,this.spinner=n,this.cardNameVal=[{name:"Total Crimes",value:5},{name:"Total of Compliants",value:10},{name:"Total of Users",value:15}],this.clicked=!0,this.clicked1=!1,this.totalDashboardObj={TotalOfCrimes:0,TotalOfCompliant:0,TotalOfUsers:0}}updateOptions(){this.salesChart.data.datasets[0].data=this.data,this.salesChart.update()}ngOnInit(){this.initialTotalDashboard(),this.initialChart()}initialTotalDashboard(){this.spinner.show(),this.barangayDashboardService.getTotalDashboardCount().subscribe(t=>{let r=t;this.totalDashboardObj.TotalOfCrimes=r.TotalOfCrimes,this.totalDashboardObj.TotalOfCompliant=r.TotalOfCompliant,this.totalDashboardObj.TotalOfUsers=r.TotalOfUsers,this.spinner.hide()},t=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}initialChart(){this.datasets=[[0,20,10,30,15,40,20,60,60],[0,20,5,25,10,30,15,40,40]],this.data=this.datasets[0];var t=document.getElementById("chart-orders");(0,f.I6)(b(),(0,f.q_)()),new(b())(t,{type:"bar",options:f.di.options,data:f.di.data});var n=document.getElementById("chart-sales");this.salesChart=new(b())(n,{type:"line",options:f.FV.options,data:f.FV.data})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.A),e.Y36(g._W),e.Y36(h.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],decls:40,vars:3,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-4","col-lg-6"],[1,"card","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],[1,"h2","font-weight-bold","mb-0"],[1,"col-auto"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-pie"],[1,"icon","icon-shape","bg-yellow","text-white","rounded-circle","shadow"],[1,"fas","fa-users"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",3)(8,"div",7)(9,"h5",8),e._uU(10,"Total of Crimes"),e.qZA(),e.TgZ(11,"span",9),e._uU(12),e.qZA()(),e.TgZ(13,"div",10)(14,"div",11),e._UZ(15,"i",12),e.qZA()()()()()(),e.TgZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"div",3)(20,"div",7)(21,"h5",8),e._uU(22,"Total of Complaints"),e.qZA(),e.TgZ(23,"span",9),e._uU(24),e.qZA()(),e.TgZ(25,"div",10)(26,"div",13),e._UZ(27,"i",14),e.qZA()()()()()(),e.TgZ(28,"div",4)(29,"div",5)(30,"div",6)(31,"div",3)(32,"div",7)(33,"h5",8),e._uU(34,"Total of Users"),e.qZA(),e.TgZ(35,"span",9),e._uU(36),e.qZA()(),e.TgZ(37,"div",10)(38,"div",15),e._UZ(39,"i",16),e.qZA()()()()()()()()()()),2&t&&(e.xp6(12),e.Oqu(r.totalDashboardObj.TotalOfCrimes),e.xp6(12),e.Oqu(r.totalDashboardObj.TotalOfCompliant),e.xp6(12),e.Oqu(r.totalDashboardObj.TotalOfUsers))}}),i})();var y=c(5861),a=c(433),u=c(2340),I=c(9007),d=c(6895);function L(i,s){if(1&i&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function P(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",44)(1,"div",37)(2,"div",20)(3,"label",45),e._uU(4,"Status"),e.qZA(),e.TgZ(5,"select",46),e.YNc(6,L,2,2,"option",47),e.qZA()()(),e.TgZ(7,"div",2)(8,"div",20)(9,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateCrimeStatus())}),e._uU(10," Update "),e.qZA()()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.receivedCrimeForm),e.xp6(6),e.Q6J("ngForOf",t.statusValue)}}function M(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"img",51),e.BQk()),2&i){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("src",r.API_URL+t.Image,e.LSH)}}function k(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"video",52),e._uU(2," Your browser does not support the video tag. "),e.qZA(),e.BQk()),2&i){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("src",r.API_URL+t.Image,e.LSH)}}function S(i,s){if(1&i&&(e.TgZ(0,"div",2)(1,"div",50),e.YNc(2,M,2,1,"ng-container",36),e.YNc(3,k,3,1,"ng-container",36),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.crimeImageByIdList),e.xp6(1),e.Q6J("ngForOf",t.crimeVideoByIdList)}}function R(i,s){1&i&&e.GkF(0)}function J(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"th",53),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td")(21,"button",54),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.showHideModal("View Details",!1,o.ReportId))}),e._uU(22," View Details "),e.qZA()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.hij("CR-2023 ",t.ReportIdStr,""),e.xp6(2),e.Oqu(e.xi3(5,10,t.Date,"yyyy-MM-dd")),e.xp6(3),e.Oqu(t.Time),e.xp6(2),e.AsE(" Lat: ",t.Lat," Long: ",t.Long," "),e.xp6(2),e.Oqu(t.Category),e.xp6(2),e.Oqu(t.Description),e.xp6(2),e.Oqu(t.ReporterName),e.xp6(2),e.Oqu(t.ReporterContact),e.xp6(2),e.Oqu(t.Status)}}function D(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",40)(1,"a",41),e.NdJ("click",function(){const o=e.CHM(t).index,l=e.oxw();return e.KtG(l.onClickcurrentPage(o+1))}),e._uU(2),e.qZA()()}if(2&i){const t=s.index;e.xp6(2),e.Oqu(t+1)}}function Y(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAddCurrentPage())}),e._uU(1,"Next"),e.qZA()}}let V=(()=>{class i{constructor(t,r,n,o){this.toastr=t,this.receiveCrimeService=r,this.spinner=n,this.datePipe=o,this.receiveCrimeList=[],this.receiveCrimeFilteredList=[],this.crimeImageByIdList=[],this.crimeVideoByIdList=[],this.currentPage=1,this.resultPerPage=10,this.thisPageFirstResult=(this.currentPage-1)*this.resultPerPage,this.numberOfPages=0,this.isModalShow=!1,this.modalTitle="",this.showEdit=!1,this.statusValue=[{name:"Active",value:"active",isSelected:!1},{name:"Fake Report",value:"fake report",isSelected:!1},{name:"Resolved",value:"resolved",isSelected:!1},{name:"In Progress",value:"in progress",isSelected:!0},{name:"Investigation",value:"investigation",isSelected:!1},{name:"Completed",value:"completed",isSelected:!1},{name:"Close",value:"close",isSelected:!1}],this.receivedCrimeForm=new a.cw({status:new a.NI("",[])}),this.reportId=0,this.API_URL=u.N.apiUrl}ngOnInit(){this.initialReceiveCrimeList()}applyFilter(t){const r=t.target.value;if(""!=r){let n=new RegExp(r,"i");this.receiveCrimeFilteredList=this.receiveCrimeList.filter(o=>n.test(o.ReportIdStr)||n.test(this.datePipe.transform(o.Date,"yyyy-MM-dd"))||n.test(o.Date)||n.test(o.ReporterName)||n.test(o.Category)||n.test(o.Description)||n.test(o.Status))}else this.receiveCrimeFilteredList=this.receiveCrimeList}initialReceiveCrimeList(t=1,r=10){this.spinner.show(),this.receiveCrimeService.receiveCrimeList("crime","","",0==t?this.currentPage:t,0==r?this.resultPerPage:r).subscribe(n=>{let o=n;this.receiveCrimeList=o,this.receiveCrimeFilteredList=o,console.log("this.receiveCrimeList: ",this.receiveCrimeList),this.numberOfPages=Math.ceil(this.receiveCrimeList.length/this.resultPerPage),this.spinner.hide()},n=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}getCrimeImageVideoByIdList(){this.crimeImageByIdList=[],this.crimeVideoByIdList=[],this.spinner.show(),this.receiveCrimeService.getCrimeImageVideoByIdList(this.reportId).subscribe(t=>{t.forEach((n,o)=>{const l=n.Image.lastIndexOf(".");-1!==l&&("mp4"!=n.Image.slice(l+1)&&"avi"!=n.Image.slice(l+1)&&"mkv"!=n.Image.slice(l+1)&&"mov"!=n.Image.slice(l+1)&&"wmv"!=n.Image.slice(l+1)&&"flv"!=n.Image.slice(l+1)?this.crimeImageByIdList.push(n):this.crimeVideoByIdList.push(n))}),this.spinner.hide()},t=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}paginationUpdateList(){var t=this;return(0,y.Z)(function*(){yield t.initialReceiveCrimeList(t.currentPage),t.thisPageFirstResult=(t.currentPage-1)*t.resultPerPage,t.receiveCrimeFilteredList=t.receiveCrimeList.slice(t.thisPageFirstResult,t.resultPerPage*t.currentPage),t.numberOfPages=Math.ceil(t.receiveCrimeList.length/t.resultPerPage),t.numberOfPagesArr=Array(t.numberOfPages).fill(t.numberOfPages).map((n,o)=>o)})()}onMinusCurrentPage(){this.currentPage>1?(this.currentPage--,this.paginationUpdateList()):this.currentPage=1}onClickcurrentPage(t){this.currentPage=t,this.paginationUpdateList()}onAddCurrentPage(){(this.currentPage!=this.numberOfPages||1==this.numberOfPages)&&(this.currentPage++,this.paginationUpdateList())}showHideModal(t,r,n=0,o=""){this.isModalShow=!this.isModalShow,this.modalTitle=t,this.showEdit=r,this.reportId=n,this.receivedCrimeForm.patchValue({status:o}),this.getCrimeImageVideoByIdList()}updateCrimeStatus(){this.spinner.show(),this.receiveCrimeService.updateCrimeStatusById(this.reportId,this.status?.value).subscribe(t=>{m().fire("Info","Updated","info"),this.initialReceiveCrimeList(this.currentPage),this.spinner.hide()},t=>{this.spinner.hide(),console.log("error: ",t),m().fire("Warning","Something went wrong","warning")})}get status(){return this.receivedCrimeForm.get("status")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g._W),e.Y36(I.s),e.Y36(h.t2),e.Y36(d.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-crime"]],decls:85,vars:8,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"row"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalCenterTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","scrollable-div"],["edit",""],["viewDetails",""],[4,"ngTemplateOutlet"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"col-xl-12","mb-5","mb-xl-0"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col"],[1,""],["id","status",1,"form-control",3,"change"],["value","","selected",""],["value","active"],["value","fake report"],["value","resolved"],["value","in progress"],["value","investigation"],["value","completed"],["value","closed"],["type","search","placeholder","Search",1,"form-control",3,"keyup"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","mb-2"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link","btn",3,"click"],["class","page-item",4,"ngFor","ngForOf"],["class","page-link btn",3,"click",4,"ngIf"],[3,"formGroup"],["for","status",1,"mb-1"],["id","status","formControlName","status",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","col-12",3,"click"],[3,"value"],[1,"col","text-center"],[1,"img-fluid","mb-2",3,"src"],["controls","",1,"width-100-p","img-asset-media-height","mb-2",3,"src"],["scope","row"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return r.showHideModal("",!1)}),e.TgZ(10,"span",9),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",10),e.YNc(13,P,11,2,"ng-template",null,11,e.W1O),e.YNc(15,S,4,2,"ng-template",null,12,e.W1O),e.YNc(17,R,1,0,"ng-container",13),e.qZA(),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.showHideModal("",!1)}),e._uU(20," Close "),e.qZA()()()()()(),e.TgZ(21,"div",2)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"h1",21),e._uU(28,"Manage Crime"),e.qZA()(),e.TgZ(29,"div",20)(30,"select",22),e.NdJ("change",function(o){return r.applyFilter(o)}),e.TgZ(31,"option",23),e._uU(32,"none"),e.qZA(),e.TgZ(33,"option",24),e._uU(34,"active"),e.qZA(),e.TgZ(35,"option",25),e._uU(36,"fake report"),e.qZA(),e.TgZ(37,"option",26),e._uU(38,"resolved"),e.qZA(),e.TgZ(39,"option",27),e._uU(40,"in progress"),e.qZA(),e.TgZ(41,"option",28),e._uU(42,"investigation"),e.qZA(),e.TgZ(43,"option",29),e._uU(44,"completed"),e.qZA(),e.TgZ(45,"option",30),e._uU(46,"closed"),e.qZA()()(),e.TgZ(47,"div",20)(48,"input",31),e.NdJ("keyup",function(o){return r.applyFilter(o)}),e.qZA()()()(),e.TgZ(49,"div",32)(50,"table",33)(51,"thead",34)(52,"tr")(53,"th",35),e._uU(54,"Report ID"),e.qZA(),e.TgZ(55,"th",35),e._uU(56,"Date"),e.qZA(),e.TgZ(57,"th",35),e._uU(58,"Time"),e.qZA(),e.TgZ(59,"th",35),e._uU(60,"Location"),e.qZA(),e.TgZ(61,"th",35),e._uU(62,"Category"),e.qZA(),e.TgZ(63,"th",35),e._uU(64,"Description"),e.qZA(),e.TgZ(65,"th",35),e._uU(66,"Reporter Name"),e.qZA(),e.TgZ(67,"th",35),e._uU(68,"Reporter Contact"),e.qZA(),e.TgZ(69,"th",35),e._uU(70,"Status"),e.qZA(),e.TgZ(71,"th",35),e._uU(72,"Action"),e.qZA()()(),e.TgZ(73,"tbody"),e.YNc(74,J,23,13,"tr",36),e.qZA()()()()()(),e.TgZ(75,"div",37)(76,"div",20)(77,"nav",38)(78,"ul",39)(79,"li",40)(80,"a",41),e.NdJ("click",function(){return r.onMinusCurrentPage()}),e._uU(81,"Prev"),e.qZA()(),e.YNc(82,D,3,1,"li",42),e.TgZ(83,"li",40),e.YNc(84,Y,2,0,"a",43),e.qZA()()()()()()()),2&t){const n=e.MAs(14),o=e.MAs(16);e.xp6(3),e.Gre("modal fade ",1==r.isModalShow?"show display-modal":"hide-modal",""),e.xp6(5),e.hij(" ",r.modalTitle," "),e.xp6(9),e.Q6J("ngTemplateOutlet",r.showEdit?n:o),e.xp6(57),e.Q6J("ngForOf",r.receiveCrimeFilteredList),e.xp6(8),e.Q6J("ngForOf",r.numberOfPagesArr),e.xp6(2),e.Q6J("ngIf",0!=r.numberOfPages)}},dependencies:[d.sg,d.O5,d.tP,a._Y,a.YN,a.Kr,a.EJ,a.JJ,a.JL,a.sg,a.u,d.uU],styles:[".display-modal[_ngcontent-%COMP%]{display:block;padding-right:17px}.hide-modal[_ngcontent-%COMP%]{display:none}.width-100-p[_ngcontent-%COMP%]{width:100%}"]}),i})();var T=c(529);new T.WM({"Content-Type":"application/json",AgentId:"none"});let Q=(()=>{class i{constructor(t){this.http=t,this.API_URL=u.N.apiUrl}getCrimeCompliantList(t,r){return this.http.get(this.API_URL+`api/get-crime-compliant?page=${t}&pageSize=${r}`)}getIncidentReportList(t,r,n,o){return this.http.get(this.API_URL+`api/get-manage-incident-report?date=${t}&year=${r}&timeStart=${n}&timeEnd=${o}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(T.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function E(i,s){if(1&i&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function G(i,s){if(1&i&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.Title)}}function B(i,s){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function K(i,s){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function H(i,s){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}let j=(()=>{class i{constructor(t,r,n,o){this.adminIncidentReportService=t,this.toastr=r,this.spinner=n,this.datePipe=o,this.currentDate=new Date,this.currentYear=(new Date).getFullYear(),this.years=[],this.incidentReportForm=new a.cw({date:new a.NI("",[a.kI.required]),year:new a.NI("",[a.kI.required]),timeStart:new a.NI("",[]),timeEnd:new a.NI("",[])});for(let l=this.currentYear;l>=1970;l--)this.years.push(l)}ngOnInit(){let t={date:this.getCurrentDateFormatted(),year:this.currentYear};this.incidentReportForm.patchValue(t),this.initialReceiveCrimeList()}initialReceiveCrimeList(){this.spinner.show(),this.incidentReportForm.patchValue({date:this.date?.value,year:this.year?.value,timeStart:this.timeStart?.value,timeEnd:this.timeEnd?.value}),this.adminIncidentReportService.getIncidentReportList(this.date?.value,this.year?.value,this.timeStart?.value,this.timeEnd?.value).subscribe(r=>{let n=r;console.log("result: ",n),this.incidentReportList=n,this.spinner.hide()},r=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")}),this.adminIncidentReportService.getCrimeCompliantList(1,100).subscribe(r=>{let n=r;console.log("result: ",n),this.crimeCompliantList=n,this.spinner.hide()},r=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}dateYearTimeChange(){this.incidentReportForm.patchValue({date:this.date?.value,year:this.year?.value,timeStart:this.timeStart?.value,timeEnd:this.timeEnd?.value}),this.initialReceiveCrimeList()}getCurrentDateFormatted(){return this.datePipe.transform(this.currentDate,"yyyy-MM-dd")||""}get date(){return this.incidentReportForm.get("date")}get year(){return this.incidentReportForm.get("year")}get timeStart(){return this.incidentReportForm.get("timeStart")}get timeEnd(){return this.incidentReportForm.get("timeEnd")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Q),e.Y36(g._W),e.Y36(h.t2),e.Y36(d.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-incident-report"]],decls:50,vars:6,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"row"],[1,"col-xl-12","mb-5","mb-xl-0"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col"],[1,""],[1,"col","text-right"],[3,"formGroup"],[1,"col-md"],["for","date",1,"mb-1"],["id","date","type","date","formControlName","date","placeholder","Date",1,"form-control",3,"change"],["for","year",1,"mb-1"],["id","year","formControlName","year",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","timeStart",1,"mb-1"],["id","timeStart","type","time","formControlName","timeStart","placeholder","Estimated Time Start",1,"form-control",3,"change"],["for","timeEnd",1,"mb-1"],["id","timeEnd","type","time","formControlName","timeEnd","placeholder","Estimated Time End",1,"form-control",3,"change"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),e._uU(9,"Manage Incident Report"),e.qZA()(),e._UZ(10,"div",9),e.qZA(),e.TgZ(11,"form",10)(12,"div",6)(13,"div",11)(14,"label",12),e._uU(15,"Date"),e.qZA(),e.TgZ(16,"input",13),e.NdJ("change",function(){return r.dateYearTimeChange()}),e.qZA()(),e.TgZ(17,"div",11)(18,"label",14),e._uU(19,"Year"),e.qZA(),e.TgZ(20,"select",15),e.NdJ("change",function(){return r.dateYearTimeChange()}),e.YNc(21,E,2,2,"option",16),e.qZA()(),e.TgZ(22,"div",11)(23,"label",17),e._uU(24,"Time Start"),e.qZA(),e.TgZ(25,"input",18),e.NdJ("change",function(){return r.dateYearTimeChange()}),e.qZA()(),e.TgZ(26,"div",11)(27,"label",19),e._uU(28,"Time End"),e.qZA(),e.TgZ(29,"input",20),e.NdJ("change",function(){return r.dateYearTimeChange()}),e.qZA()()()()(),e.TgZ(30,"div",21)(31,"table",22)(32,"thead",23)(33,"tr")(34,"th",24),e._uU(35,"Incident Type"),e.qZA(),e.YNc(36,G,2,1,"th",25),e.qZA()(),e.TgZ(37,"tbody")(38,"tr")(39,"th",24),e._uU(40,"Incidents Reported"),e.qZA(),e.YNc(41,B,2,1,"th",26),e.qZA(),e.TgZ(42,"tr")(43,"th",24),e._uU(44,"Incidents Resolved"),e.qZA(),e.YNc(45,K,2,1,"th",26),e.qZA(),e.TgZ(46,"tr")(47,"th",24),e._uU(48,"Incidents Under Investigation"),e.qZA(),e.YNc(49,H,2,1,"th",26),e.qZA()()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("formGroup",r.incidentReportForm),e.xp6(10),e.Q6J("ngForOf",r.years),e.xp6(15),e.Q6J("ngForOf",r.crimeCompliantList),e.xp6(5),e.Q6J("ngForOf",r.incidentReportList.IncidentsReported),e.xp6(4),e.Q6J("ngForOf",r.incidentReportList.IncidentsResolved),e.xp6(4),e.Q6J("ngForOf",r.incidentReportList.IncidentsUnderInvestigation))},dependencies:[d.sg,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u]}),i})();var $=c(1031);let W=(()=>{class i{constructor(t,r,n,o){this.locationAlertService=t,this.toastr=r,this.spinner=n,this.datePipe=o,this.currentPage=1,this.resultPerPage=10}ngOnInit(){this.initialMaps()}initialMaps(t=1,r=1e6){let n=document.getElementById("map-canvas"),o=n.getAttribute("data-lat"),l=n.getAttribute("data-lng");var U={zoom:8,scrollwheel:!1,center:new google.maps.LatLng(o,l),mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[]};this.locationAlertService.getLocationList("",0==t?this.currentPage:t,0==r?this.resultPerPage:r).subscribe(_=>{let v=_;if(console.log("this.result: ",v),n=new google.maps.Map(n,U),v.length>=2)v.forEach((N,bt)=>{var Zt=new google.maps.Marker({position:{lat:N.Lat,lng:N.Long},map:n,animation:google.maps.Animation.DROP,title:"Hello World!"});google.maps.event.addListener(Zt,"click",function(){})});else if(1==v.length){var vt=new google.maps.Marker({position:{lat:v[0].Lat,lng:v[0].Long},map:n,animation:google.maps.Animation.DROP,title:"Hello World!"});google.maps.event.addListener(vt,"click",function(){})}else console.log("zero results:");this.spinner.hide()},_=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36($.B),e.Y36(g._W),e.Y36(h.t2),e.Y36(d.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-crime-mapping"]],decls:6,vars:0,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container-fluid","mt--7"],[1,"row","mt-5"],[1,"col"],[1,"card","shadow","border-0"],["id","map-canvas","data-lat","15.7081","data-lng","120.3692",1,"map-canvas",2,"height","600px"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"div",5),e.qZA()()()()())}}),i})();var z=c(6218),X=c(7375);let ee=(()=>{class i{constructor(t,r,n){this.toastr=t,this.barangayAnnouncementService=r,this.spinner=n,this.announcementForm=new a.cw({description:new a.NI("",[a.kI.required,a.kI.minLength(1)])}),this.editorConfig={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",placeholder:"Enter text here...",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold"]],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}]}}ngOnInit(){}onCreateAnnouncement(){this.spinner.show(),this.barangayAnnouncementService.createAnnouncement(this.description?.value).subscribe(t=>{console.log("result: ",t),this.announcementForm.patchValue({description:""}),this.toastr.success("Successfully created announcement"),this.spinner.hide()},t=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}get description(){return this.announcementForm.get("description")}clearNotRequiredValidators(){this.description?.clearValidators(),this.description?.updateValueAndValidity()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g._W),e.Y36(z.x),e.Y36(h.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-announcement"]],decls:13,vars:2,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container"],[1,"row"],[1,"col"],[1,"card","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[3,"formGroup","ngSubmit"],["id","description","formControlName","description",3,"config"],["type","submit",1,"btn","btn-primary","mt-2"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1"),e._uU(7,"Announcement"),e.qZA(),e._UZ(8,"hr"),e.TgZ(9,"form",6),e.NdJ("ngSubmit",function(){return r.onCreateAnnouncement()}),e._UZ(10,"angular-editor",7),e.TgZ(11,"button",8),e._uU(12," Save "),e.qZA()()()()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",r.announcementForm),e.xp6(1),e.Q6J("config",r.editorConfig))},dependencies:[a._Y,a.JJ,a.JL,a.sg,a.u,X.s6]}),i})(),te=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-law-and-order-information"]],decls:17,vars:0,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container"],[1,"row"],[1,"col"],[1,"card","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[1,"h3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1"),e._uU(7,"Management Law and Order Information"),e.qZA(),e._UZ(8,"hr"),e.TgZ(9,"p",6),e._uU(10,"What is Crime?"),e.qZA(),e.TgZ(11,"p",6),e._uU(12,"Crimes are generally graded into four categories: felonies, misdemeanors, felony-misdemeanors, and infractions. Often the criminal intent element affects a crime's grading."),e.qZA(),e.TgZ(13,"p",6),e._uU(14,"What is Felonies?"),e.qZA(),e.TgZ(15,"p",6),e._uU(16,"Felonies are the most serious crimes. They are either supported by a heinous intent, like the intent to kill, or accompanied by an extremely serious result, such as loss of life, grievious injury, or destruction of property. Felonies are serious so they are graded the highest, and all sentencing options are available. Depending on the jurisdiction and the crime, the sentence could be execution, prison time, a fine, or alternative sentencing such as probation, rehabilitation, and home confinement. Potential consequences of a felony conviction also include the inability to vote own a weapon, or even praticipate in certain careers."),e.qZA()()()()()()())}}),i})();function ie(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",36)(1,"div",29)(2,"div",20)(3,"label",37),e._uU(4,"Status"),e.qZA(),e.TgZ(5,"select",38),e.YNc(6,ie,2,2,"option",39),e.qZA()()(),e.TgZ(7,"div",2)(8,"div",20)(9,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateCrimeStatus())}),e._uU(10," Update "),e.qZA()()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.receivedCrimeForm),e.xp6(6),e.Q6J("ngForOf",t.statusValue)}}function ne(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"img",43),e.BQk()),2&i){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("src",r.API_URL+t.Image,e.LSH)}}function ae(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"video",44),e._uU(2," Your browser does not support the video tag. "),e.qZA(),e.BQk()),2&i){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("src",r.API_URL+t.Image,e.LSH)}}function oe(i,s){if(1&i&&(e.TgZ(0,"div",2)(1,"div",42),e.YNc(2,ne,2,1,"ng-container",28),e.YNc(3,ae,3,1,"ng-container",28),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.crimeImageByIdList),e.xp6(1),e.Q6J("ngForOf",t.crimeVideoByIdList)}}function se(i,s){1&i&&e.GkF(0)}function le(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"th",45),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.hij("CR-2023 ",t.ReportIdStr,""),e.xp6(2),e.Oqu(t.Barangay),e.xp6(2),e.Oqu(e.xi3(7,7,t.Date,"yyyy-MM-dd")),e.xp6(3),e.Oqu(t.Time),e.xp6(2),e.hij(" ",t.Lat," "),e.xp6(2),e.hij(" ",t.Category," "),e.xp6(2),e.Oqu(t.Status)}}function ce(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",32)(1,"a",33),e.NdJ("click",function(){const o=e.CHM(t).index,l=e.oxw();return e.KtG(l.onClickcurrentPage(o+1))}),e._uU(2),e.qZA()()}if(2&i){const t=s.index;e.xp6(2),e.Oqu(t+1)}}function de(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAddCurrentPage())}),e._uU(1,"Next"),e.qZA()}}let me=(()=>{class i{constructor(t,r,n,o){this.toastr=t,this.receiveCrimeService=r,this.spinner=n,this.datePipe=o,this.receiveCrimeList=[],this.receiveCrimeFilteredList=[],this.crimeImageByIdList=[],this.crimeVideoByIdList=[],this.currentPage=1,this.resultPerPage=10,this.thisPageFirstResult=(this.currentPage-1)*this.resultPerPage,this.numberOfPages=0,this.isModalShow=!1,this.modalTitle="",this.showEdit=!1,this.statusValue=[{name:"Active",value:"active",isSelected:!1},{name:"Fake Report",value:"fake report",isSelected:!1},{name:"Resolved",value:"resolved",isSelected:!1},{name:"In Progress",value:"in progress",isSelected:!0},{name:"Investigation",value:"investigation",isSelected:!1},{name:"Completed",value:"completed",isSelected:!1},{name:"Close",value:"close",isSelected:!1}],this.receivedCrimeForm=new a.cw({status:new a.NI("",[])}),this.reportId=0,this.API_URL=u.N.apiUrl}ngOnInit(){this.initialReceiveCrimeList()}applyFilter(t){const r=t.target.value;if(""!=r){let n=new RegExp(r,"i");this.receiveCrimeFilteredList=this.receiveCrimeList.filter(o=>n.test(o.ReportIdStr)||n.test(this.datePipe.transform(o.Date,"yyyy-MM-dd"))||n.test(o.Date)||n.test(o.ReporterName)||n.test(o.Category)||n.test(o.Description)||n.test(o.Status))}else this.receiveCrimeFilteredList=this.receiveCrimeList}initialReceiveCrimeList(t=1,r=10){this.spinner.show(),this.receiveCrimeService.receiveCrimeList("","completed","",0==t?this.currentPage:t,0==r?this.resultPerPage:r).subscribe(n=>{let o=n;this.receiveCrimeList=o,this.receiveCrimeFilteredList=o,console.log("this.receiveCrimeList: ",this.receiveCrimeList),this.numberOfPages=Math.ceil(this.receiveCrimeList.length/this.resultPerPage),this.spinner.hide()},n=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}getCrimeImageVideoByIdList(){this.crimeImageByIdList=[],this.crimeVideoByIdList=[],this.spinner.show(),this.receiveCrimeService.getCrimeImageVideoByIdList(this.reportId).subscribe(t=>{t.forEach((n,o)=>{const l=n.Image.lastIndexOf(".");-1!==l&&("mp4"!=n.Image.slice(l+1)&&"avi"!=n.Image.slice(l+1)&&"mkv"!=n.Image.slice(l+1)&&"mov"!=n.Image.slice(l+1)&&"wmv"!=n.Image.slice(l+1)&&"flv"!=n.Image.slice(l+1)?this.crimeImageByIdList.push(n):this.crimeVideoByIdList.push(n))}),this.spinner.hide()},t=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}paginationUpdateList(){var t=this;return(0,y.Z)(function*(){yield t.initialReceiveCrimeList(t.currentPage),t.thisPageFirstResult=(t.currentPage-1)*t.resultPerPage,t.receiveCrimeFilteredList=t.receiveCrimeList.slice(t.thisPageFirstResult,t.resultPerPage*t.currentPage),t.numberOfPages=Math.ceil(t.receiveCrimeList.length/t.resultPerPage),t.numberOfPagesArr=Array(t.numberOfPages).fill(t.numberOfPages).map((n,o)=>o)})()}onMinusCurrentPage(){this.currentPage>1?(this.currentPage--,this.paginationUpdateList()):this.currentPage=1}onClickcurrentPage(t){this.currentPage=t,this.paginationUpdateList()}onAddCurrentPage(){(this.currentPage!=this.numberOfPages||1==this.numberOfPages)&&(this.currentPage++,this.paginationUpdateList())}showHideModal(t,r,n=0,o=""){this.isModalShow=!this.isModalShow,this.modalTitle=t,this.showEdit=r,this.reportId=n,this.receivedCrimeForm.patchValue({status:o}),this.getCrimeImageVideoByIdList()}updateCrimeStatus(){this.spinner.show(),this.receiveCrimeService.updateCrimeStatusById(this.reportId,this.status?.value).subscribe(t=>{m().fire("Info","Updated","info"),this.initialReceiveCrimeList(this.currentPage),this.spinner.hide()},t=>{this.spinner.hide(),console.log("error: ",t),m().fire("Warning","Something went wrong","warning")})}get status(){return this.receivedCrimeForm.get("status")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g._W),e.Y36(I.s),e.Y36(h.t2),e.Y36(d.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-reports"]],decls:61,vars:8,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"row"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalCenterTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","scrollable-div"],["edit",""],["viewDetails",""],[4,"ngTemplateOutlet"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"col-xl-12","mb-5","mb-xl-0"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col"],[1,""],[1,"col","text-right"],["type","search","placeholder","Search",1,"form-control",3,"keyup"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","mb-2"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link","btn",3,"click"],["class","page-item",4,"ngFor","ngForOf"],["class","page-link btn",3,"click",4,"ngIf"],[3,"formGroup"],["for","status",1,"mb-1"],["id","status","formControlName","status",1,"form-control"],["value","active",3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","col-12",3,"click"],["value","active",3,"value"],[1,"col","text-center"],[1,"img-fluid","mb-2",3,"src"],["controls","",1,"width-100-p","img-asset-media-height","mb-2",3,"src"],["scope","row"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return r.showHideModal("",!1)}),e.TgZ(10,"span",9),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",10),e.YNc(13,re,11,2,"ng-template",null,11,e.W1O),e.YNc(15,oe,4,2,"ng-template",null,12,e.W1O),e.YNc(17,se,1,0,"ng-container",13),e.qZA(),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.showHideModal("",!1)}),e._uU(20," Close "),e.qZA()()()()()(),e.TgZ(21,"div",2)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"h1",21),e._uU(28,"Reports"),e.qZA()(),e.TgZ(29,"div",22)(30,"input",23),e.NdJ("keyup",function(o){return r.applyFilter(o)}),e.qZA()()()(),e.TgZ(31,"div",24)(32,"table",25)(33,"thead",26)(34,"tr")(35,"th",27),e._uU(36,"Report ID"),e.qZA(),e.TgZ(37,"th",27),e._uU(38,"Barangay"),e.qZA(),e.TgZ(39,"th",27),e._uU(40,"Date"),e.qZA(),e.TgZ(41,"th",27),e._uU(42,"Time"),e.qZA(),e.TgZ(43,"th",27),e._uU(44,"Location"),e.qZA(),e.TgZ(45,"th",27),e._uU(46,"Crime Type"),e.qZA(),e.TgZ(47,"th",27),e._uU(48,"Status"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,le,16,10,"tr",28),e.qZA()()()()()(),e.TgZ(51,"div",29)(52,"div",20)(53,"nav",30)(54,"ul",31)(55,"li",32)(56,"a",33),e.NdJ("click",function(){return r.onMinusCurrentPage()}),e._uU(57,"Prev"),e.qZA()(),e.YNc(58,ce,3,1,"li",34),e.TgZ(59,"li",32),e.YNc(60,de,2,0,"a",35),e.qZA()()()()()()()),2&t){const n=e.MAs(14),o=e.MAs(16);e.xp6(3),e.Gre("modal fade ",1==r.isModalShow?"show display-modal":"hide-modal",""),e.xp6(5),e.hij(" ",r.modalTitle," "),e.xp6(9),e.Q6J("ngTemplateOutlet",r.showEdit?n:o),e.xp6(33),e.Q6J("ngForOf",r.receiveCrimeFilteredList),e.xp6(8),e.Q6J("ngForOf",r.numberOfPagesArr),e.xp6(2),e.Q6J("ngIf",0!=r.numberOfPages)}},dependencies:[d.sg,d.O5,d.tP,a._Y,a.YN,a.Kr,a.EJ,a.JJ,a.JL,a.sg,a.u,d.uU]}),i})();function ue(i,s){return function(t){const r=t.get(i)?.value,n=t.get(s)?.value;return r===n?null:{passwordMismatchError:!0}}}const A={headers:new T.WM({"Content-Type":"application/json",AgentId:"none"})};let pe=(()=>{class i{constructor(t){this.http=t,this.API_URL=u.N.apiUrl}getAllPersonalInfo(t,r,n){return this.http.get(this.API_URL+`api/get-user-personal-info?keyword=${t}&page=${r}&pageSize=${n}`)}getAllBarangayList(t,r,n){return this.http.get(this.API_URL+`api/get-barangay-by-code?keyword=${t}&page=${r}&pageSize=${n}`)}userRegistration(t,r,n){A.headers=A.headers.delete("Content-type");const o=new FormData;let l=new Date(t.birthYear,t.birthMonth,t.birthDay),Z=(0,d.p6)(l,"yyyy-MM-dd","en-US");return o.append("ValidId",r),o.append("SelfieId",n),o.append("Username",t.username),o.append("Password",t.password),o.append("FirstName",t.firstName),o.append("MiddleName",t.middleName),o.append("LastName",t.lastName),o.append("BirthDate",Z),o.append("Gender",t.gender),o.append("Phone",t.contactNumber),o.append("HouseNo",t.houseNo),o.append("Street",t.street),o.append("Village",t.village),o.append("UnitFloor",t.unitFloor),o.append("Building",t.building),o.append("ProvinceCode",t.province),o.append("CityCode",t.cityMunicipality),o.append("BrgyCode",t.barangay),o.append("ZipCode",t.zipCode),o.append("UserType","police"),o.append("ResidencyType",t.residencyType),o.append("Email",t.email),this.http.post(this.API_URL+"api/create-personal-info",o,A)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(T.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ge=(()=>{class i{constructor(){}keyPressNumeric(t){var r=String.fromCharCode(t.keyCode);return!/[^0-9\.]/g.test(r)||(t.preventDefault(),!1)}keyPressAlphanumeric(t){var r=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(r)||(t.preventDefault(),!1)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const he=["inputFile"],fe=["inputFile2"];function _e(i,s){if(1&i&&(e.TgZ(0,"option",117),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ve(i,s){if(1&i&&(e.TgZ(0,"option",117),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.MonthNum),e.xp6(1),e.hij(" ",t.Month," ")}}function Ze(i,s){if(1&i&&(e.TgZ(0,"option",117),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ce(i,s){1&i&&(e.TgZ(0,"span",118),e._uU(1,"Contact field is invalid"),e.qZA())}function Te(i,s){1&i&&(e.TgZ(0,"span",118),e._uU(1," Password and Confirm password does not match! "),e.qZA())}function be(i,s){if(1&i&&(e.TgZ(0,"option",117),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("value",t.BarangayCode),e.xp6(1),e.hij(" ",t.BarangayName," ")}}function ye(i,s){if(1&i&&e._UZ(0,"img",121),2&i){const t=e.oxw().$implicit,r=e.oxw();e.s9C("src",r.API_URL+t.SelfieIdImage,e.LSH)}}function Ae(i,s){if(1&i&&e._UZ(0,"img",121),2&i){const t=e.oxw().$implicit,r=e.oxw();e.s9C("src",r.API_URL+t.ValidIdImage,e.LSH)}}function Ue(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"th",119),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,ye,1,1,"img",120),e.qZA(),e.TgZ(5,"td"),e.YNc(6,Ae,1,1,"img",120),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e._UZ(15,"td"),e.qZA()),2&i){const t=s.$implicit;e.xp6(2),e.hij("CN-2023 ",t.Id,""),e.xp6(2),e.Q6J("ngIf",null!=t.SelfieIdImage),e.xp6(2),e.Q6J("ngIf",null!=t.ValidIdImage),e.xp6(2),e.hij(" ",t.FirstName+" "+t.MiddleName+" "+t.LastName," "),e.xp6(2),e.hij(" ",t.HouseNo+" "+t.Street+" "+t.Village+" "+t.UnitFloor," "),e.xp6(2),e.Oqu(t.BarangayName),e.xp6(2),e.Oqu(t.Phone)}}function qe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",112)(1,"a",113),e.NdJ("click",function(){const o=e.CHM(t).index,l=e.oxw();return e.KtG(l.onClickcurrentPage(o+1))}),e._uU(2),e.qZA()()}if(2&i){const t=s.index;e.xp6(2),e.Oqu(t+1)}}function Ie(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",113),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAddCurrentPage())}),e._uU(1,"Next"),e.qZA()}}function Ne(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",123)(2,"div",124)(3,"span",118),e._uU(4),e.qZA()()(),e.BQk()),2&i){const t=e.oxw().message;e.xp6(4),e.Oqu(t)}}function Fe(i,s){if(1&i&&e.YNc(0,Ne,5,1,"ng-container",122),2&i){const t=s.control;e.Q6J("ngIf",t.hasError(s.validation)&&(t.dirty||t.touched))}}const we=function(i){return{validation:"required",message:"Valid Id is required",control:i}},xe=function(i){return{validation:"required",message:"Selfie Id is required",control:i}},Oe=function(i){return{validation:"required",message:"First Name is required",control:i}},Le=function(i){return{validation:"minlength",message:"First Name should have at least 3 symbols",control:i}},Pe=function(i){return{validation:"maxLength",message:"First Name should have maximum 30 symbols",control:i}},Me=function(i){return{validation:"required",message:"Last Name is required",control:i}},ke=function(i){return{validation:"minlength",message:"Last Name should have at least 3 symbols",control:i}},Se=function(i){return{validation:"maxLength",message:"Last Name should have maximum 30 symbols",control:i}},Re=function(i){return{validation:"required",message:"Day is required",control:i}},Je=function(i){return{validation:"required",message:"Month is required",control:i}},De=function(i){return{validation:"required",message:"Year is required",control:i}},Ye=function(i){return{validation:"required",message:"Age is required",control:i}},Ve=function(i){return{validation:"required",message:"Gender is required",control:i}},Qe=function(i){return{validation:"required",message:"Contact Number is required",control:i}},Ee=function(i){return{validation:"minlength",message:"Contact Number should have at least 10 symbols",control:i}},Ge=function(i){return{validation:"maxLength",message:"Contact Number should have maximum 20 symbols",control:i}},Be=function(i){return{validation:"required",message:"Residency Type is required",control:i}},Ke=function(i){return{validation:"required",message:"House/Lot Number is required",control:i}},He=function(i){return{validation:"required",message:"Street is required",control:i}},je=function(i){return{validation:"required",message:"Village is required",control:i}},$e=function(i){return{validation:"required",message:"Unit Floor is required",control:i}},We=function(i){return{validation:"required",message:"Building is required",control:i}},ze=function(i){return{validation:"required",message:"Province is required",control:i}},Xe=function(i){return{validation:"required",message:"City/Municipality is required",control:i}},et=function(i){return{validation:"required",message:"Barangay is required",control:i}},tt=function(i){return{validation:"required",message:"Zip Code is required",control:i}},it=function(i){return{validation:"required",message:"Email is required",control:i}},rt=function(i){return{validation:"minlength",message:"Email should have at least 3 symbols",control:i}},nt=function(i){return{validation:"maxLength",message:"Email should have maximum 320 symbols",control:i}},at=function(i){return{validation:"required",message:"Username is required",control:i}},ot=function(i){return{validation:"minlength",message:"Username should have at least 8 symbols",control:i}},st=function(i){return{validation:"maxLength",message:"Username should have maximum 16 symbols",control:i}},lt=function(i){return{validation:"required",message:"Password is required",control:i}},ct=function(i){return{validation:"minlength",message:"Password should have at least 3 symbols",control:i}},dt=function(i){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:i}};let mt=(()=>{class i{constructor(t,r,n,o,l,Z){this.toastr=t,this.adminUsersService=r,this.formatterService=n,this.spinner=o,this.datePipe=l,this.router=Z,this.isModalShow=!1,this.modalTitle="",this.userInfoList=[],this.userInfoListFilteredList=[],this.barangayList=[],this.currentPage=1,this.resultPerPage=10,this.thisPageFirstResult=(this.currentPage-1)*this.resultPerPage,this.numberOfPages=0,this.API_URL=u.N.apiUrl,this.keyword="",this.imgDisplay=u.N.imgNoImageDisplay,this.imgDisplay2=u.N.imgNoImageDisplay,this.days=Array.from({length:31},(U,_)=>_+1),this.age=0,this.months=[{Month:"January",MonthNum:1},{Month:"February",MonthNum:2},{Month:"March",MonthNum:3},{Month:"April",MonthNum:4},{Month:"May",MonthNum:5},{Month:"June",MonthNum:6},{Month:"July",MonthNum:7},{Month:"August",MonthNum:8},{Month:"September",MonthNum:9},{Month:"October",MonthNum:10},{Month:"November",MonthNum:11},{Month:"December",MonthNum:12}],this.years=Array.from({length:100},(U,_)=>(new Date).getFullYear()-_),this.createUserForm=new a.cw({firstName:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(30)]),middleName:new a.NI(""),lastName:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(30)]),birthMonth:new a.NI("",[a.kI.required]),birthDay:new a.NI("",[a.kI.required]),birthYear:new a.NI("",[a.kI.required]),birthAge:new a.NI("",[a.kI.required]),gender:new a.NI("",[a.kI.required]),contactNumber:new a.NI("",[a.kI.required,a.kI.minLength(10),a.kI.maxLength(20)]),validId:new a.NI("",[a.kI.required]),selfieId:new a.NI("",[a.kI.required]),residencyType:new a.NI("permanent",[a.kI.required]),houseNo:new a.NI("",[a.kI.required]),street:new a.NI("",[a.kI.required]),village:new a.NI("",[a.kI.required]),unitFloor:new a.NI("",[a.kI.required]),building:new a.NI("",[a.kI.required]),province:new a.NI("369",[a.kI.required]),cityMunicipality:new a.NI("36913",[a.kI.required]),barangay:new a.NI("",[a.kI.required]),zipCode:new a.NI("2305",[a.kI.required]),email:new a.NI("",[a.kI.required,a.kI.email,a.kI.minLength(3),a.kI.maxLength(320)]),username:new a.NI("",[a.kI.required,a.kI.minLength(8),a.kI.maxLength(16)]),password:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(100)]),confirmPassword:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(100)])},[ue("password","confirmPassword")]),this.userForm=new a.cw({firstNameSearch:new a.NI("",[]),middleNameSearch:new a.NI("",[]),lastNameSearch:new a.NI("",[]),barangaySearch:new a.NI("",[])})}ngOnInit(){this.initialUserInfoList(),this.initialGetBarangayNameList()}applyFilter(t){const r=t.target.value;if(""!=r){let n=new RegExp(r,"i");this.userInfoListFilteredList=this.userInfoList.filter(o=>n.test(o.ReportIdStr)||n.test(this.datePipe.transform(o.Date,"yyyy-MM-dd"))||n.test(o.Date)||n.test(o.ReporterName)||n.test(o.Category)||n.test(o.Description)||n.test(o.Status))}else this.userInfoListFilteredList=this.userInfoList}initialUserInfoList(t=1,r=10){this.spinner.show(),this.adminUsersService.getAllPersonalInfo(this.keyword,0==t?this.currentPage:t,0==r?this.resultPerPage:r).subscribe(n=>{let o=n;this.userInfoList=o,this.userInfoListFilteredList=o,console.log("this.userInfoList: ",this.userInfoList),this.numberOfPages=Math.ceil(this.userInfoList.length/this.resultPerPage),this.spinner.hide()},n=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}initialGetBarangayNameList(){this.spinner.show(),this.adminUsersService.getAllBarangayList("36913",1,100).subscribe(t=>{this.barangayList=t,console.log("this.barangayList: ",this.barangayList),this.spinner.hide()},t=>{this.spinner.hide(),m().fire("Warning","Something went wrong","warning")})}paginationUpdateList(){var t=this;return(0,y.Z)(function*(){yield t.initialUserInfoList(t.currentPage),t.thisPageFirstResult=(t.currentPage-1)*t.resultPerPage,t.userInfoListFilteredList=t.userInfoList.slice(t.thisPageFirstResult,t.resultPerPage*t.currentPage),t.numberOfPages=Math.ceil(t.userInfoList.length/t.resultPerPage),t.numberOfPagesArr=Array(t.numberOfPages).fill(t.numberOfPages).map((n,o)=>o)})()}onMinusCurrentPage(){this.currentPage>1?(this.currentPage--,this.paginationUpdateList()):this.currentPage=1}onClickcurrentPage(t){this.currentPage=t,this.paginationUpdateList()}onAddCurrentPage(){(this.currentPage!=this.numberOfPages||1==this.numberOfPages)&&(this.currentPage++,this.paginationUpdateList())}onChangeFirstNameField(){this.userForm.patchValue({firstName:this.firstNameSearch?.value}),this.keyword=this.firstNameSearch?.value,this.initialUserInfoList()}onChangeMiddleNameField(){this.userForm.patchValue({middleName:this.middleNameSearch?.value}),this.keyword=this.middleNameSearch?.value,this.initialUserInfoList()}onChangeLastNameField(){this.userForm.patchValue({lastName:this.lastNameSearch?.value}),this.keyword=this.lastNameSearch?.value,this.initialUserInfoList()}onChangeBarangayField(){this.userForm.patchValue({barangay:this.barangaySearch?.value}),this.keyword=this.barangaySearch?.value,this.initialUserInfoList()}showHideModal(t){this.isModalShow=!this.isModalShow,this.modalTitle=t}onFileSelected(t){const r=t.target.files[0];if(r){const n=new FileReader;n.onload=o=>{this.imgDisplay=o.target.result},n.readAsDataURL(r),this.validIdFile=t.target.files[0]}else this.imgDisplay=u.N.imgNoImageDisplay,this.validIdFile=null}onFileSelected2(t){const r=t.target.files[0];if(r){const n=new FileReader;n.onload=o=>{this.imgDisplay2=o.target.result},n.readAsDataURL(r),this.selfieIdFile=t.target.files[0]}else this.imgDisplay2=u.N.imgNoImageDisplay,this.selfieIdFile=null}onSignUp(){this.createUserForm.valid?(this.spinner.show(),this.adminUsersService.userRegistration(this.createUserForm.getRawValue(),this.validIdFile,this.selfieIdFile).subscribe(t=>{this.imgDisplay=u.N.imgNoImageDisplay,this.imgDisplay2=u.N.imgNoImageDisplay,this.resetFields(),this.toastr.success("Account Created Successfully","Success"),this.spinner.hide()},t=>{this.toastr.error("User Already Exist"===t.error?t.error:"Unavailable to use app","Error"),this.spinner.hide()})):(this.toastr.error("re check all fields","Error"),this.spinner.hide())}resetFields(){this.inputFileVar.nativeElement.value="",this.inputFileVar2.nativeElement.value="",this.createUserForm.setValue({firstName:"",middleName:"",lastName:"",birthMonth:"",birthDay:"",birthYear:"",birthAge:"",gender:"",contactNumber:"",validId:"",selfieId:"",residencyType:"",houseNo:"",street:"",village:"",unitFloor:"",building:"",province:"",cityMunicipality:"",barangay:"",zipCode:"",email:"",username:"",password:"",confirmPassword:""})}onChangeDayDateYear(){const t=new Date(this.birthYear?.value,this.birthMonth?.value-1,this.birthDay?.value),n=new Date-t;let l={birthAge:Math.floor(n/315576e5)};this.createUserForm.patchValue(l)}get firstNameSearch(){return this.userForm.get("firstNameSearch")}get middleNameSearch(){return this.userForm.get("middleNameSearch")}get lastNameSearch(){return this.userForm.get("lastNameSearch")}get barangaySearch(){return this.userForm.get("barangaySearch")}get firstName(){return this.createUserForm.get("firstName")}get middleName(){return this.createUserForm.get("middleName")}get lastName(){return this.createUserForm.get("lastName")}get birthMonth(){return this.createUserForm.get("birthMonth")}get birthDay(){return this.createUserForm.get("birthDay")}get birthYear(){return this.createUserForm.get("birthYear")}get birthAge(){return this.createUserForm.get("birthAge")}get gender(){return this.createUserForm.get("gender")}get contactNumber(){return this.createUserForm.get("contactNumber")}get validId(){return this.createUserForm.get("validId")}get selfieId(){return this.createUserForm.get("selfieId")}get residencyType(){return this.createUserForm.get("residencyType")}get houseNo(){return this.createUserForm.get("houseNo")}get street(){return this.createUserForm.get("street")}get village(){return this.createUserForm.get("village")}get unitFloor(){return this.createUserForm.get("unitFloor")}get building(){return this.createUserForm.get("building")}get province(){return this.createUserForm.get("province")}get cityMunicipality(){return this.createUserForm.get("cityMunicipality")}get barangay(){return this.createUserForm.get("barangay")}get zipCode(){return this.createUserForm.get("zipCode")}get email(){return this.createUserForm.get("email")}get username(){return this.createUserForm.get("username")}get password(){return this.createUserForm.get("password")}getControl(t){return this.createUserForm.get(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g._W),e.Y36(pe),e.Y36(ge),e.Y36(h.t2),e.Y36(d.uU),e.Y36(C.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],viewQuery:function(t,r){if(1&t&&(e.Gf(he,7),e.Gf(fe,7)),2&t){let n;e.iGM(n=e.CRH())&&(r.inputFileVar=n.first),e.iGM(n=e.CRH())&&(r.inputFileVar2=n.first)}},decls:271,vars:159,consts:[[1,"header","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"row"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalCenterTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","scrollable-div"],[3,"formGroup","ngSubmit"],[1,"row","mb-2","justify-content-center","text-center"],[1,"col-md-6","text-center"],[1,"text-center"],[1,"white-text"],["alt","Selected Image",1,"selected-image",3,"src"],["type","file","formControlName","validId","accept","image/*",1,"white-text",3,"change"],["inputFile",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","file","formControlName","selfieId","accept","image/*",1,"white-text",3,"change"],["inputFile2",""],[1,"row","mb-2"],[1,"col-md"],["for","firstName",1,"mb-1"],["id","firstName","type","text","placeholder","Firstname","formControlName","firstName",1,"form-control"],["for","middleName",1,"mb-1"],["id","middleName","type","text","placeholder","Middle Name","formControlName","middleName",1,"form-control"],["for","lastName",1,"mb-1"],["id","lastName","type","text","placeholder","Lastname","formControlName","lastName",1,"form-control"],["for","birthDay",1,"mb-1"],["id","birthDay","formControlName","birthDay",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","birthMonth",1,"mb-1"],["id","birthMonth","formControlName","birthMonth",1,"form-control"],["for","birthYear",1,"mb-1"],["id","birthYear","formControlName","birthYear",1,"form-control",3,"change"],["for","age",1,"mb-1"],["id","age","type","number","placeholder","Age",1,"form-control",3,"disabled","value"],["for","year",1,"mb-1"],["id","year","formControlName","gender",1,"form-control"],["value","male"],["value","female"],["for","contactNumber",1,"mb-1"],["id","contactNumber","type","text","placeholder","Contact Number","formControlName","contactNumber",1,"form-control",3,"keypress"],["class","text-danger",4,"ngIf"],[1,"col-md","text-center"],[1,"form-group"],[1,"form-check-label"],["type","radio","formControlName","residencyType","value","permanent",1,"form-check-input"],["type","radio","formControlName","residencyType","value","short term",1,"form-check-input"],["for","houseNo",1,"mb-1"],["id","houseNo","type","text","placeholder","House/Lot Number","formControlName","houseNo",1,"form-control"],["for","street",1,"mb-1"],["id","street","type","text","placeholder","Street","formControlName","street",1,"form-control"],["for","village",1,"mb-1"],["id","village","type","text","placeholder","Village/Subdivision","formControlName","village",1,"form-control"],["for","unitFloor",1,"mb-1"],["id","unitFloor","type","text","placeholder","UnitFloor","formControlName","unitFloor",1,"form-control"],["for","building",1,"mb-1"],["id","building","type","text","placeholder","Building","formControlName","building",1,"form-control"],["for","province",1,"mb-1"],["id","province","formControlName","province",1,"form-control"],["value","369"],["for","cityMunicipality",1,"mb-1"],["id","cityMunicipality","formControlName","cityMunicipality",1,"form-control"],["value","36913"],["for","barangay",1,"mb-1"],["id","barangay","formControlName","barangay",1,"form-control"],["value","36913001"],["value","36913002"],["value","36913004"],["value","36913005"],["value","36913006"],["value","36913007"],["value","36913008"],["value","36913010"],["value","36913011"],["value","36913013"],["value","36913014"],["value","36913015"],["for","zipCode",1,"mb-1"],["id","zipCode","type","text","placeholder","Zipcode","formControlName","zipCode",1,"form-control"],["for","email",1,"mb-1"],["id","email","type","email","placeholder","Email","formControlName","email",1,"form-control"],["id","username","type","text","placeholder","Username","formControlName","username",1,"form-control"],["id","password","type","password","placeholder","Password","formControlName","password",1,"form-control"],["id","confirmPassword","type","password","placeholder","Confirm Password","formControlName","confirmPassword",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"col-xl-12","mb-5","mb-xl-0"],[1,"card","shadow"],[1,"card-header","border-0"],[3,"formGroup"],[1,"row","align-items-center"],[1,"col"],[1,""],[1,"col","text-right"],["type","button",1,"btn","btn-primary","mb-2",3,"click"],[1,"row","align-items-center","mb-2"],["type","text","placeholder","First Name","formControlName","firstNameSearch",1,"form-control",3,"change"],["type","text","placeholder","MI","formControlName","middleNameSearch",1,"form-control",3,"change"],["type","text","placeholder","Last Name","formControlName","lastNameSearch",1,"form-control",3,"change"],["formControlName","barangaySearch",1,"form-control",3,"change"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link","btn",3,"click"],["class","page-item",4,"ngFor","ngForOf"],["class","page-link btn",3,"click",4,"ngIf"],["formError",""],[3,"value"],[1,"text-danger"],["scope","row"],["class","img-fluid img-c-w-h",3,"src",4,"ngIf"],[1,"img-fluid","img-c-w-h",3,"src"],[4,"ngIf"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return r.showHideModal("")}),e.TgZ(10,"span",9),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",10)(13,"form",11),e.NdJ("ngSubmit",function(){return r.onSignUp()}),e.TgZ(14,"div",12)(15,"div",13),e._UZ(16,"p",14),e.TgZ(17,"h6",15),e._uU(18,"Upload Your Valid Id"),e.qZA(),e._UZ(19,"img",16),e.TgZ(20,"input",17,18),e.NdJ("change",function(o){return r.onFileSelected(o)}),e.qZA(),e.GkF(22,19),e.qZA(),e.TgZ(23,"div",13)(24,"h6",15),e._uU(25,"Upload Your Selfie"),e.qZA(),e._UZ(26,"img",16),e.TgZ(27,"input",20,21),e.NdJ("change",function(o){return r.onFileSelected2(o)}),e.qZA(),e.GkF(29,19),e.qZA()(),e.TgZ(30,"div",22)(31,"div",23)(32,"label",24),e._uU(33,"First Name: "),e.qZA(),e._UZ(34,"input",25),e.GkF(35,19)(36,19)(37,19),e.qZA(),e.TgZ(38,"div",23)(39,"label",26),e._uU(40,"Middle Name: "),e.qZA(),e._UZ(41,"input",27),e.qZA(),e.TgZ(42,"div",23)(43,"label",28),e._uU(44,"Last Name: "),e.qZA(),e._UZ(45,"input",29),e.GkF(46,19)(47,19)(48,19),e.qZA()(),e.TgZ(49,"div",22)(50,"div",23)(51,"label",30),e._uU(52,"Day"),e.qZA(),e.TgZ(53,"select",31),e.YNc(54,_e,2,2,"option",32),e.qZA(),e.GkF(55,19),e.qZA(),e.TgZ(56,"div",23)(57,"label",33),e._uU(58,"Month"),e.qZA(),e.TgZ(59,"select",34),e.YNc(60,ve,2,2,"option",32),e.qZA(),e.GkF(61,19),e.qZA(),e.TgZ(62,"div",23)(63,"label",35),e._uU(64,"Year"),e.qZA(),e.TgZ(65,"select",36),e.NdJ("change",function(){return r.onChangeDayDateYear()}),e.YNc(66,Ze,2,2,"option",32),e.qZA(),e.GkF(67,19),e.qZA()(),e.TgZ(68,"div",22)(69,"div",23)(70,"label",37),e._uU(71,"Age: "),e.qZA(),e._UZ(72,"input",38),e.GkF(73,19),e.qZA()(),e.TgZ(74,"div",22)(75,"div",23)(76,"label",39),e._uU(77,"Gender"),e.qZA(),e.TgZ(78,"select",40)(79,"option",41),e._uU(80,"Male"),e.qZA(),e.TgZ(81,"option",42),e._uU(82,"Female"),e.qZA()(),e.GkF(83,19),e.qZA(),e.TgZ(84,"div",23)(85,"label",43),e._uU(86,"Contact Number: "),e.qZA(),e.TgZ(87,"input",44),e.NdJ("keypress",function(o){return r.formatterService.keyPressNumeric(o)}),e.qZA(),e.YNc(88,Ce,2,0,"span",45),e.GkF(89,19)(90,19)(91,19),e.qZA()(),e.TgZ(92,"div",22)(93,"div",46)(94,"div",47)(95,"label",48),e._UZ(96,"input",49),e._uU(97," PERMANENT RESIDENCY ADDRESS "),e.qZA()(),e.TgZ(98,"div",47)(99,"label",48),e._UZ(100,"input",50),e._uU(101," SHORT-TERM RESIDENCY ADDRESS "),e.qZA()(),e.GkF(102,19),e.qZA()(),e.TgZ(103,"div",22)(104,"div",23)(105,"label",51),e._uU(106,"House/Lot Number: "),e.qZA(),e._UZ(107,"input",52),e.GkF(108,19),e.qZA(),e.TgZ(109,"div",23)(110,"label",53),e._uU(111,"Street: "),e.qZA(),e._UZ(112,"input",54),e.GkF(113,19),e.qZA(),e.TgZ(114,"div",23)(115,"label",55),e._uU(116,"Village/Subdivision: "),e.qZA(),e._UZ(117,"input",56),e.GkF(118,19),e.qZA()(),e.TgZ(119,"div",22)(120,"div",23)(121,"label",57),e._uU(122,"Unit/Floor: "),e.qZA(),e._UZ(123,"input",58),e.GkF(124,19),e.qZA(),e.TgZ(125,"div",23)(126,"label",59),e._uU(127,"Building: "),e.qZA(),e._UZ(128,"input",60),e.GkF(129,19),e.qZA()(),e.TgZ(130,"div",22)(131,"div",23)(132,"label",61),e._uU(133,"Province"),e.qZA(),e.TgZ(134,"select",62)(135,"option",63),e._uU(136,"Tarlac"),e.qZA()(),e.GkF(137,19),e.qZA(),e.TgZ(138,"div",23)(139,"label",64),e._uU(140,"City"),e.qZA(),e.TgZ(141,"select",65)(142,"option",66),e._uU(143,"San Clemente"),e.qZA()(),e.GkF(144,19),e.qZA(),e.TgZ(145,"div",23)(146,"label",67),e._uU(147,"Barangay"),e.qZA(),e.TgZ(148,"select",68)(149,"option",69),e._uU(150,"Balloc"),e.qZA(),e.TgZ(151,"option",70),e._uU(152,"Bamban"),e.qZA(),e.TgZ(153,"option",71),e._uU(154,"Casipo"),e.qZA(),e.TgZ(155,"option",72),e._uU(156,"Catagudingan"),e.qZA(),e.TgZ(157,"option",73),e._uU(158,"Daldalayap"),e.qZA(),e.TgZ(159,"option",74),e._uU(160,"Doclong 1"),e.qZA(),e.TgZ(161,"option",75),e._uU(162,"Doclong 2"),e.qZA(),e.TgZ(163,"option",76),e._uU(164,"Maasin"),e.qZA(),e.TgZ(165,"option",77),e._uU(166,"Nagsabaran"),e.qZA(),e.TgZ(167,"option",78),e._uU(168,"Pit-ao"),e.qZA(),e.TgZ(169,"option",79),e._uU(170,"Poblacion Norte"),e.qZA(),e.TgZ(171,"option",80),e._uU(172,"Poblacion Sur"),e.qZA()(),e.GkF(173,19),e.qZA()(),e.TgZ(174,"div",22)(175,"div",23)(176,"label",81),e._uU(177,"Zipcode"),e.qZA(),e._UZ(178,"input",82),e.GkF(179,19),e.qZA(),e.TgZ(180,"div",23)(181,"label",83),e._uU(182,"Email"),e.qZA(),e._UZ(183,"input",84),e.GkF(184,19)(185,19)(186,19),e.qZA()(),e.TgZ(187,"div",22)(188,"div",23)(189,"label",39),e._uU(190,"Username"),e.qZA(),e._UZ(191,"input",85),e.GkF(192,19)(193,19)(194,19),e.qZA(),e.TgZ(195,"div",23)(196,"label",39),e._uU(197,"Password"),e.qZA(),e._UZ(198,"input",86),e.GkF(199,19)(200,19)(201,19),e.qZA(),e.TgZ(202,"div",23)(203,"label",39),e._uU(204,"Confirm Password"),e.qZA(),e._UZ(205,"input",87),e.YNc(206,Te,2,0,"span",45),e.qZA()(),e.TgZ(207,"div",22)(208,"div",46)(209,"button",88),e._uU(210," Create Account "),e.qZA()()()()(),e.TgZ(211,"div",89)(212,"button",90),e.NdJ("click",function(){return r.showHideModal("")}),e._uU(213," Close "),e.qZA()()()()()(),e.TgZ(214,"div",2)(215,"div",91)(216,"div",92)(217,"div",93)(218,"form",94)(219,"div",95)(220,"div",96)(221,"h1",97),e._uU(222,"Reporters information"),e.qZA()(),e.TgZ(223,"div",98)(224,"button",99),e.NdJ("click",function(){return r.showHideModal("")}),e._uU(225," Create Police Account "),e.qZA()()(),e.TgZ(226,"div",100)(227,"div",96)(228,"input",101),e.NdJ("change",function(){return r.onChangeFirstNameField()}),e.qZA()(),e.TgZ(229,"div",98)(230,"input",102),e.NdJ("change",function(){return r.onChangeMiddleNameField()}),e.qZA()(),e.TgZ(231,"div",98)(232,"input",103),e.NdJ("change",function(){return r.onChangeLastNameField()}),e.qZA()()(),e.TgZ(233,"div",95)(234,"div",96)(235,"select",104),e.NdJ("change",function(){return r.onChangeBarangayField()}),e.YNc(236,be,2,2,"option",32),e.qZA()()()()(),e.TgZ(237,"div",105)(238,"table",106)(239,"thead",107)(240,"tr")(241,"th",108),e._uU(242,"#"),e.qZA(),e.TgZ(243,"th",108),e._uU(244,"Selfie Id"),e.qZA(),e.TgZ(245,"th",108),e._uU(246,"Valid Id"),e.qZA(),e.TgZ(247,"th",108),e._uU(248,"Name"),e.qZA(),e.TgZ(249,"th",108),e._uU(250,"Address"),e.qZA(),e.TgZ(251,"th",108),e._uU(252,"Barangay"),e.qZA(),e.TgZ(253,"th",108),e._uU(254,"Contact"),e.qZA(),e.TgZ(255,"th",108),e._uU(256,"Action"),e.qZA()()(),e.TgZ(257,"tbody"),e.YNc(258,Ue,16,7,"tr",109),e.qZA()()()()()(),e.TgZ(259,"div",22)(260,"div",96)(261,"nav",110)(262,"ul",111)(263,"li",112)(264,"a",113),e.NdJ("click",function(){return r.onMinusCurrentPage()}),e._uU(265,"Prev"),e.qZA()(),e.YNc(266,qe,3,1,"li",114),e.TgZ(267,"li",112),e.YNc(268,Ie,2,0,"a",115),e.qZA()()()()()()(),e.YNc(269,Fe,1,1,"ng-template",null,116,e.W1O)),2&t){const n=e.MAs(270);let o;e.xp6(3),e.Gre("modal fade ",1==r.isModalShow?"show display-modal":"hide-modal",""),e.xp6(5),e.hij(" ",r.modalTitle," "),e.xp6(5),e.Q6J("formGroup",r.createUserForm),e.xp6(6),e.Q6J("src",r.imgDisplay,e.LSH),e.xp6(3),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(89,we,r.createUserForm.controls.validId)),e.xp6(4),e.Q6J("src",r.imgDisplay2,e.LSH),e.xp6(3),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(91,xe,r.createUserForm.controls.selfieId)),e.xp6(6),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(93,Oe,r.createUserForm.controls.firstName)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(95,Le,r.createUserForm.controls.firstName)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(97,Pe,r.createUserForm.controls.firstName)),e.xp6(9),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(99,Me,r.createUserForm.controls.lastName)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(101,ke,r.createUserForm.controls.lastName)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(103,Se,r.createUserForm.controls.lastName)),e.xp6(6),e.Q6J("ngForOf",r.days),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(105,Re,r.createUserForm.controls.birthDay)),e.xp6(5),e.Q6J("ngForOf",r.months),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(107,Je,r.createUserForm.controls.birthMonth)),e.xp6(5),e.Q6J("ngForOf",r.years),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(109,De,r.createUserForm.controls.birthYear)),e.xp6(5),e.s9C("value",null==r.birthAge?null:r.birthAge.value),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(111,Ye,r.createUserForm.controls.birthAge)),e.xp6(10),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(113,Ve,r.createUserForm.controls.gender)),e.xp6(5),e.Q6J("ngIf",r.contactNumber&&r.contactNumber.invalid),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(115,Qe,r.createUserForm.controls.contactNumber)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(117,Ee,r.createUserForm.controls.contactNumber)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(119,Ge,r.createUserForm.controls.contactNumber)),e.xp6(11),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(121,Be,r.createUserForm.controls.residencyType)),e.xp6(6),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(123,Ke,r.createUserForm.controls.houseNo)),e.xp6(5),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(125,He,r.createUserForm.controls.street)),e.xp6(5),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(127,je,r.createUserForm.controls.village)),e.xp6(6),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(129,$e,r.createUserForm.controls.unitFloor)),e.xp6(5),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(131,We,r.createUserForm.controls.building)),e.xp6(8),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(133,ze,r.createUserForm.controls.province)),e.xp6(7),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(135,Xe,r.createUserForm.controls.cityMunicipality)),e.xp6(29),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(137,et,r.createUserForm.controls.barangay)),e.xp6(6),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(139,tt,r.createUserForm.controls.zipCode)),e.xp6(5),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(141,it,r.createUserForm.controls.email)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(143,rt,r.createUserForm.controls.email)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(145,nt,r.createUserForm.controls.email)),e.xp6(6),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(147,at,r.createUserForm.controls.username)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(149,ot,r.createUserForm.controls.username)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(151,st,r.createUserForm.controls.username)),e.xp6(5),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(153,lt,r.createUserForm.controls.password)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(155,ct,r.createUserForm.controls.password)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(157,dt,r.createUserForm.controls.password)),e.xp6(5),e.Q6J("ngIf",(null==r.createUserForm.errors?null:r.createUserForm.errors.passwordMismatchError)&&(null==(o=r.getControl("confirmPassword"))?null:o.touched)),e.xp6(12),e.Q6J("formGroup",r.userForm),e.xp6(18),e.Q6J("ngForOf",r.barangayList),e.xp6(22),e.Q6J("ngForOf",r.userInfoListFilteredList),e.xp6(8),e.Q6J("ngForOf",r.numberOfPagesArr),e.xp6(2),e.Q6J("ngIf",0!=r.numberOfPages)}},dependencies:[d.sg,d.O5,d.tP,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a._,a.JJ,a.JL,a.sg,a.u],styles:[".img-c-w-h[_ngcontent-%COMP%]{width:300px;height:100px}.display-modal[_ngcontent-%COMP%]{display:block;padding-right:17px}.hide-modal[_ngcontent-%COMP%]{display:none}.selected-image[_ngcontent-%COMP%]{max-width:100%;height:100px}"]}),i})(),ut=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-account-settings"]],decls:2,vars:0,template:function(t,r){1&t&&(e.TgZ(0,"p"),e._uU(1,"account-settings works!"),e.qZA())}}),i})();var pt=c(7303);let p=(()=>{class i{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!!this.authService.isAuthenticated("admin")||(this.router.navigate(["/auth/admin-sign-in"],{queryParams:{redirectUrl:r.url}}),!1)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(pt.e),e.LFG(C.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gt=[{path:"",component:O,canActivate:[p]},{path:"manage-crime",component:V,canActivate:[p]},{path:"incident-report",component:j,canActivate:[p]},{path:"crime-mapping",component:W,canActivate:[p]},{path:"announcement",component:ee,canActivate:[p]},{path:"law-and-order-information",component:te,canActivate:[p]},{path:"reports",component:me,canActivate:[p]},{path:"users",component:mt,canActivate:[p]},{path:"account-settings",component:ut,canActivate:[p]}];let ht=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(gt),C.Bz]}),i})();var ft=c(950);let _t=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[ft.m,ht]}),i})()}}]);